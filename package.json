{
  "name": "transform-payload",
  "version": "1.0.0",
  "description": "Expose a POST endpoint which accepts an input JSON object with payload, referenceData and returns a transformedPayload (JSON).\r The POST API should substitute the {REF_*} values in payload using refernceData and return the transformed payload. Upper limit for the payload size is 10MB.\r Input payload to POST API\r {\r   \"payload\": {\r     \"name\": \"subscriber\",\r     \"valueType\": \"array\",\r     \"value\": [\r       {\r         \"name\": \"MN\",\r         \"valueType\": \"string\",\r         \"value\": \"{REF_MSISDN}\"\r       },\r       {\r         \"name\": \"IM\",\r         \"valueType\": \"string\",\r         \"value\": \"{REF_IMSI}\"\r       },\r       {\r         \"name\": \"NT\",\r         \"valueType\": \"string\",\r         \"value\": \"G\"\r       },\r       {\r         \"name\": \"privateUser\",\r         \"valueType\": \"array\",\r         \"value\": [\r           {\r             \"name\": \"privateUserId\",\r             \"valueType\": \"string\",\r             \"value\": \"{REF_IMSI}@ims.mnc001.mcc505.3gppnetwork.org\"\r           },\r           {\r             \"name\": \"roamingAllowed\",\r             \"valueType\": \"string\",\r             \"value\": \"false\"\r           },\r           {\r             \"name\": \"publicUser\",\r             \"valueType\": \"array\",\r             \"value\": [\r               {\r                 \"name\": \"publicIdValue\",\r                 \"valueType\": \"string\",\r                 \"value\": \"sip:{REF_IMSI}@ims.mnc001.mcc505.3gppnetwork.org\"\r               },\r               {\r                 \"name\": \"implicitRegSet\",\r                 \"valueType\": \"string\",\r                 \"value\": \"1\"\r               },\r               {\r                 \"name\": \"serviceProfileId\",\r                 \"valueType\": \"string\",\r                 \"value\": \"{REF_SERVPROFID}\"\r               },\r               {\r                 \"name\": \"testUser\",\r                 \"valueType\": \"array\",\r                 \"value\": [\r                   {\r                     \"name\": \"testIdValue\",\r                     \"valueType\": \"string\",\r                     \"value\": \"sip:{REF_IMSI}@ims.mod-connect.com\"\r                   },\r                   {\r                     \"name\": \"implicitRegSet\",\r                     \"valueType\": \"string\",\r                     \"value\": \"2\"\r                   }\r                 ]\r               }\r             ]\r           },\r           {\r             \"name\": \"userImsi\",\r             \"valueType\": \"string\",\r             \"value\": \"{REF_IMSI}\"\r           }\r         ]\r       },\r       {\r         \"name\": \"PO\",\r         \"valueType\": \"string\",\r         \"value\": \"0\"\r       }\r     ]\r   },\r   \"referenceData\": {\r     \"REF_MSISDN\": \"0406679321\",\r     \"REF_IMSI\": \"50002312344314\",\r     \"REF_SERVPROFID\": \"2\"\r   }\r }\r Expected API Response\r {\r   \"name\": \"subscriber\",\r   \"valueType\": \"array\",\r   \"value\": [\r     {\r       \"name\": \"MN\",\r       \"valueType\": \"string\",\r       \"value\": \"0406679321\"\r     },\r     {\r       \"name\": \"IM\",\r       \"valueType\": \"string\",\r       \"value\": \"50002312344314\"\r     },\r     {\r       \"name\": \"NT\",\r       \"valueType\": \"string\",\r       \"value\": \"G\"\r     },\r     {\r       \"name\": \"privateUser\",\r       \"valueType\": \"array\",\r       \"value\": [\r         {\r           \"name\": \"privateUserId\",\r           \"valueType\": \"string\",\r           \"value\": \"50002312344314@ims.mnc001.mcc505.3gppnetwork.org\"\r         },\r         {\r           \"name\": \"roamingAllowed\",\r           \"valueType\": \"string\",\r           \"value\": \"false\"\r         },\r         {\r           \"name\": \"publicUser\",\r           \"valueType\": \"array\",\r           \"value\": [\r             {\r               \"name\": \"publicIdValue\",\r               \"valueType\": \"string\",\r               \"value\": \"sip:50002312344314@ims.mnc001.mcc505.3gppnetwork.org\"\r             },\r             {\r               \"name\": \"implicitRegSet\",\r               \"valueType\": \"string\",\r               \"value\": \"1\"\r             },\r             {\r               \"name\": \"serviceProfileId\",\r               \"valueType\": \"string\",\r               \"value\": \"2\"\r             },\r             {\r               \"name\": \"testUser\",\r               \"valueType\": \"array\",\r               \"value\": [\r                 {\r                   \"name\": \"testIdValue\",\r                   \"valueType\": \"string\",\r                   \"value\": \"sip:50002312344314@ims.mod-connect.com\"\r                 },\r                 {\r                   \"name\": \"implicitRegSet\",\r                   \"valueType\": \"string\",\r                   \"value\": \"2\"\r                 }\r               ]\r             }\r           ]\r         },\r         {\r           \"name\": \"userImsi\",\r           \"valueType\": \"string\",\r           \"value\": \"50002312344314\"\r         }\r       ]\r     },\r     {\r       \"name\": \"PO\",\r       \"valueType\": \"string\",\r       \"value\": \"0\"\r     }\r   ]\r }",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/Jesnasaravarghese/transform-payload.git"
  },
  "author": "",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/Jesnasaravarghese/transform-payload/issues"
  },
  "homepage": "https://github.com/Jesnasaravarghese/transform-payload#readme",
  "dependencies": {
    "body-parser": "^1.19.0",
    "cors": "^2.8.5",
    "express": "^4.17.1"
  }
}
